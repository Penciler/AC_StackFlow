<div class = "container">
    <br>
    <h2> Question: </h2>
    <table class="table table-striped">
      <tbody>      
          <%= render partial: "shared/question_template", locals: {question: @question} %>      
      </tbody>
    </table>
    <% if user_signed_in? %>
      <%= form_for [@question, @answer] do |f| %>
        <div class="form-group">
          <%= f.text_area :content, placeholder: "留下回應", class: "form-control" %>
        </div>
        <div class="form-group">
          <%= f.submit class: "btn btn-primary" %>
          <%= f.button "Cancel", type: :reset, class: "btn btn-default" %>
        </div>
      <% end %>


  <div class="row col-md-8">
    <!-- 顯示與問題相關的回答 -->
    <h2> Answers</h2>

    <% @pop_answers.each do |answer| %>
    <div>
      <div><%= answer.answer_upvotes.count %> upvotes</div>
      <div><%= link_to "Upvote",answer_upvote_question_answer_path(@question, answer), method: :post, class: "btn btn-primary" %></div>
     
      <p><%= simple_format answer.content %></p>    
      <em><%= time_ago_in_words(answer.created_at) + " ago - "   %> by <%= link_to answer.user.name, user_path(answer.user) %> </em>
      
        <!-- 下面if end間為註解 -->
        <% if false %>
                <% if current_user.admin? %>
                <%= link_to "Delete", question_answer_path(@question, answer), method: :delete %>
                <% end %>
        <% end %>
    
    </div>
    <hr>
    <% end %>

    <div class="p-3 mb-2 bg-info text-white"><%= flash[:notice] %></div>
    <div class="p-3 mb-2 bg-danger text-white"><%= flash[:alert] %></div>
  </div>
</div>

